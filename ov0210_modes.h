#ifndef OV0210MODES_H_
#define OV0210MODES_H_

struct sensor_regs ov0210_mode0[] =
{  
{0x0103, 0x01},
{0x302 , 0x1e}, 
{0x303 , 0x00}, 
{0x30d , 0x1e}, 
{0x030e, 0x02},
{0x0312, 0x01},
{0x3000, 0x00},
{0x3018, 0x32},
{0x3031, 0x0a},
{0x3080, 0x08},
{0x3083, 0xB4},
{0x3103, 0x00},
{0x3104, 0x01},
{0x3106, 0x01},
{0x3500, 0x00},
{0x3501, 0x44},
{0x3502, 0x40},
{0x3503, 0x88},
{0x3507, 0x00},
{0x3508, 0x00},
{0x3509, 0x80},
{0x350c, 0x00},
{0x350d, 0x80},
{0x3510, 0x00},
{0x3511, 0x00},
{0x3512, 0x20},
{0x3632, 0x00},
{0x3633, 0x10},
{0x3634, 0x10},
{0x3635, 0x10},
{0x3645, 0x13},
{0x3646, 0x81},
{0x3636, 0x10},
{0x3651, 0x0a},
{0x3656, 0x02},
{0x3659, 0x04},
{0x365a, 0xda},
{0x365b, 0xa2},
{0x365c, 0x04},
{0x365d, 0x1d},
{0x365e, 0x1a},
{0x3662, 0xd7},
{0x3667, 0x78},
{0x3669, 0x0a},
{0x366a, 0x92},
{0x3700, 0x54},
{0x3702, 0x10},
{0x3706, 0x42},
{0x3709, 0x30},
{0x370b, 0xc2},
{0x3714, 0x63},
{0x3715, 0x01},
{0x3716, 0x00},
{0x371a, 0x3e},
{0x3732, 0x0e},
{0x3733, 0x10},
{0x375f, 0x0e},
{0x3768, 0x30},
{0x3769, 0x44},
{0x376a, 0x22},
{0x377b, 0x20},
{0x377c, 0x00},
{0x377d, 0x0c},
{0x3798, 0x00},
{0x37a1, 0x55},
{0x37a8, 0x6d},
{0x37c2, 0x04},
{0x37c5, 0x00},
{0x37c8, 0x00},
{0x3800, 0x00},
{0x3801, 0x00},
{0x3802, 0x00},
{0x3803, 0x00},
{0x3804, 0x07},
{0x3805, 0x8f},
{0x3806, 0x04},
{0x3807, 0x43},
{0x3808, 0x07},
{0x3809, 0x80},
{0x380a, 0x04},
{0x380b, 0x38},
{0x380c, 0x04},
{0x380d, 0x38},
{0x380e, 0x04},
{0x380f, 0x57},
{0x3810, 0x00},
{0x3811, 0x04},
{0x3812, 0x00},
{0x3813, 0x04},
{0x3814, 0x01},
{0x3815, 0x01},
{0x3820, 0x80},
{0x3821, 0x46},
{0x3822, 0x84},
{0x3829, 0x00},
{0x382a, 0x01},
{0x382b, 0x01},
{0x3830, 0x04},
{0x3836, 0x01},
{0x3837, 0x08},
{0x3839, 0x01},
{0x383a, 0x00},
{0x383b, 0x08},
{0x383c, 0x00},
{0x3f0b, 0x00},
{0x4001, 0x20},
{0x4009, 0x07},
{0x4003, 0x10},
{0x4010, 0xe0},
{0x4016, 0x00},
{0x4017, 0x10},
{0x4044, 0x02},
{0x4304, 0x08},
{0x4307, 0x30},
{0x4320, 0x80},
{0x4322, 0x00},
{0x4323, 0x00},
{0x4324, 0x00},
{0x4325, 0x00},
{0x4326, 0x00},
{0x4327, 0x00},
{0x4328, 0x00},
{0x4329, 0x00},
{0x432c, 0x03},
{0x432d, 0x81},
{0x4501, 0x84},
{0x4502, 0x40},
{0x4503, 0x18},
{0x4504, 0x04},
{0x4508, 0x02},
{0x4601, 0x10},
{0x4800, 0x00},
{0x4816, 0x52},
{0x4837, 0x16},
{0x5000, 0x7f},
{0x5001, 0x00},
{0x5005, 0x38},
{0x501e, 0x0d},
{0x5040, 0xc0},
{0x5901, 0x00},
{0x0100, 0x01},



};

struct sensor_regs ov0210_mode1[] =
{
     {0x103 , 0x01},
        {0x302 , 0x1e},
        {0x303 , 0x01},
        {0x30d , 0x1e},
        {0x30e , 0x02},
        {0x312 , 0x01},
        {0x3000, 0x00},
        {0x3018, 0x32},
        {0x3031, 0x0a},
        {0x3080, 0x08},
        {0x3083, 0xB4},
        {0x3103, 0x00},
        {0x3104, 0x01},
        {0x3106, 0x01},
        {0x3500, 0x00},
        {0x3501, 0x44},
        {0x3502, 0x40},
        {0x3503, 0x88},
        {0x3507, 0x00},
        {0x3508, 0x00},
        {0x3509, 0x80},
        {0x350c, 0x00},
        {0x350d, 0x80},
        {0x3510, 0x00},
        {0x3511, 0x00},
        {0x3512, 0x20},
        {0x3632, 0x00},
        {0x3633, 0x10},
        {0x3634, 0x10},
        {0x3635, 0x10},
        {0x3645, 0x13},
        {0x3646, 0x81},
        {0x3636, 0x10},
        {0x3651, 0x0a},
        {0x3656, 0x02},
        {0x3659, 0x04},
        {0x365a, 0xda},
        {0x365b, 0xa2},
        {0x365c, 0x04},
        {0x365d, 0x1d},
        {0x365e, 0x1a},
    {0x3662, 0xd7},
    {0x3667, 0x78},
    {0x3669, 0x0a},
    {0x366a, 0x92},
    {0x3700, 0x54},
    {0x3702, 0x10},
    {0x3706, 0x42},
    {0x3709, 0x30},
    {0x370b, 0xc2},
    {0x3714, 0x63},
    {0x3715, 0x01},
    {0x3716, 0x00},
    {0x371a, 0x3e},
    {0x3732, 0x0e},
    {0x3733, 0x10},
    {0x375f, 0x0e},
    {0x3768, 0x30},
    {0x3769, 0x44},
    {0x376a, 0x22},
    {0x377b, 0x20},
    {0x377c, 0x00},
    {0x377d, 0x0c},
    {0x3798, 0x00},
    {0x37a1, 0x55},
    {0x37a8, 0x6d},
    {0x37c2, 0x04},
    {0x37c5, 0x00},
    {0x37c8, 0x00},
    {0x3800, 0x00},
    {0x3801, 0x00},
    {0x3802, 0x00},
    {0x3803, 0x00},
    {0x3804, 0x07},
    {0x3805, 0x8f},
    {0x3806, 0x04},
    {0x3807, 0x47},
    {0x3808, 0x07},
    {0x3809, 0x88},
    {0x380a, 0x04},
    {0x380b, 0x40},
    {0x380c, 0x08},
    {0x380d, 0x70},
    {0x380e, 0x04},
    {0x380f, 0x57},
    {0x3810, 0x00},
    {0x3811, 0x04},
    {0x3812, 0x00},
    {0x3813, 0x04},
    {0x3814, 0x01},
    {0x3815, 0x01},
    {0x3820, 0x80},
    {0x3821, 0x46},
    {0x3822, 0x84},
    {0x3829, 0x00},
    {0x382a, 0x01},
    {0x382b, 0x01},
    {0x3830, 0x04},
    {0x3836, 0x01},
    {0x3837, 0x08},
    {0x3839, 0x01},
    {0x383a, 0x00},
    {0x383b, 0x08},
    {0x383c, 0x00},
    {0x3f0b, 0x00},
    {0x4001, 0x20},
    {0x4009, 0x07},
    {0x4003, 0x10},
    {0x4010, 0xe0},
    {0x4016, 0x00},
    {0x4017, 0x10},
    {0x4044, 0x02},
    {0x4304, 0x08},
    {0x4307, 0x30},
    {0x4320, 0x80},
    {0x4322, 0x00},
    {0x4323, 0x00},
    {0x4324, 0x00},
    {0x4325, 0x00},
    {0x4326, 0x00},
    {0x4327, 0x00},
    {0x4328, 0x00},
    {0x4329, 0x00},
    {0x432c, 0x03},
    {0x432d, 0x81},
    {0x4501, 0x84},
    {0x4502, 0x40},
    {0x4503, 0x18},
    {0x4504, 0x04},
    {0x4508, 0x02},
    {0x4601, 0x10},
    {0x4800, 0x00},
    {0x4816, 0x52},
    {0x4837, 0x16},
    {0x5000, 0x7f},
    {0x5001, 0x00},
    {0x5005, 0x38},
    {0x501e, 0x0d},
    {0x5040, 0xC0},
    {0x5901, 0x00},
    {0x100 , 0x01}, //streaming
};

struct sensor_regs ov0210_mode2[] =
{
        {0x103 , 0x01},
        {0x302 , 0x1e},
        {0x303 , 0x01},
        {0x30d , 0x1e},
        {0x30e , 0x02},
        {0x312 , 0x01},
        {0x3000, 0x00},
        {0x3018, 0x32},
        {0x3031, 0x0a},
        {0x3080, 0x08},
        {0x3083, 0xB4},
        {0x3103, 0x00},
        {0x3104, 0x01},
        {0x3106, 0x01},
        {0x3500, 0x00},
        {0x3501, 0x44},
        {0x3502, 0x40},
        {0x3503, 0x88},
        {0x3507, 0x00},
        {0x3508, 0x00},
        {0x3509, 0x80},
        {0x350c, 0x00},
        {0x350d, 0x80},
        {0x3510, 0x00},
        {0x3511, 0x00},
        {0x3512, 0x20},
        {0x3632, 0x00},
        {0x3633, 0x10},
        {0x3634, 0x10},
        {0x3635, 0x10},
        {0x3645, 0x13},
        {0x3646, 0x81},
        {0x3636, 0x10},
        {0x3651, 0x0a},
        {0x3656, 0x02},
        {0x3659, 0x04},
        {0x365a, 0xda},
        {0x365b, 0xa2},
        {0x365c, 0x04},
        {0x365d, 0x1d},
        {0x365e, 0x1a},
    {0x3662, 0xd7},
    {0x3667, 0x78},
    {0x3669, 0x0a},
    {0x366a, 0x92},
    {0x3700, 0x54},
    {0x3702, 0x10},
    {0x3706, 0x42},
    {0x3709, 0x30},
    {0x370b, 0xc2},
    {0x3714, 0x63},
    {0x3715, 0x01},
    {0x3716, 0x00},
    {0x371a, 0x3e},
    {0x3732, 0x0e},
    {0x3733, 0x10},
    {0x375f, 0x0e},
    {0x3768, 0x30},
    {0x3769, 0x44},
    {0x376a, 0x22},
    {0x377b, 0x20},
    {0x377c, 0x00},
    {0x377d, 0x0c},
    {0x3798, 0x00},
    {0x37a1, 0x55},
    {0x37a8, 0x6d},
    {0x37c2, 0x04},
    {0x37c5, 0x00},
    {0x37c8, 0x00},
    {0x3800, 0x00},
    {0x3801, 0x00},
    {0x3802, 0x00},
    {0x3803, 0x00},
    {0x3804, 0x07},
    {0x3805, 0x8f},
    {0x3806, 0x04},
    {0x3807, 0x47},
    {0x3808, 0x07},
    {0x3809, 0x88},
    {0x380a, 0x04},
    {0x380b, 0x40},
    {0x380c, 0x08},
    {0x380d, 0x70},
    {0x380e, 0x04},
    {0x380f, 0x57},
    {0x3810, 0x00},
    {0x3811, 0x04},
    {0x3812, 0x00},
    {0x3813, 0x04},
    {0x3814, 0x01},
    {0x3815, 0x01},
    {0x3820, 0x80},
    {0x3821, 0x46},
    {0x3822, 0x84},
    {0x3829, 0x00},
    {0x382a, 0x01},
    {0x382b, 0x01},
    {0x3830, 0x04},
    {0x3836, 0x01},
    {0x3837, 0x08},
    {0x3839, 0x01},
    {0x383a, 0x00},
    {0x383b, 0x08},
    {0x383c, 0x00},
    {0x3f0b, 0x00},
    {0x4001, 0x20},
    {0x4009, 0x07},
    {0x4003, 0x10},
    {0x4010, 0xe0},
    {0x4016, 0x00},
    {0x4017, 0x10},
    {0x4044, 0x02},
    {0x4304, 0x08},
    {0x4307, 0x30},
    {0x4320, 0x80},
    {0x4322, 0x00},
    {0x4323, 0x00},
    {0x4324, 0x00},
    {0x4325, 0x00},
    {0x4326, 0x00},
    {0x4327, 0x00},
    {0x4328, 0x00},
    {0x4329, 0x00},
    {0x432c, 0x03},
    {0x432d, 0x81},
    {0x4501, 0x84},
    {0x4502, 0x40},
    {0x4503, 0x18},
    {0x4504, 0x04},
    {0x4508, 0x02},
    {0x4601, 0x10},
    {0x4800, 0x00},
    {0x4816, 0x52},
    {0x4837, 0x16},
    {0x5000, 0x7f},
    {0x5001, 0x00},
    {0x5005, 0x38},
    {0x501e, 0x0d},
    {0x5040, 0xc0},
    {0x5901, 0x00},
    {0x100 , 0x01}, //streaming
};
struct sensor_regs ov0210_mode3[] =
{
{0x0103, 0x01},
{0x0302, 0x1e},
{0x030d, 0x1e},
{0x030e, 0x02},
{0x0312, 0x01},
{0x3000, 0x00},
{0x3018, 0x32},
{0x3031, 0x0a},
{0x3080, 0x08},
{0x3103, 0x00},
{0x3104, 0x01},
{0x3106, 0x01},
{0x3500, 0x00},
{0x3501, 0x44},
{0x3502, 0x40},
{0x3503, 0x88},
{0x3507, 0x00},
{0x3508, 0x00},
{0x3509, 0x80},
{0x350c, 0x00},
{0x350d, 0x80},
{0x3510, 0x00},
{0x3511, 0x00},
{0x3512, 0x20},
{0x3632, 0x00},
{0x3633, 0x10},
{0x3634, 0x10},
{0x3635, 0x10},
{0x3645, 0x13},
{0x3646, 0x81},
{0x3636, 0x10},
{0x3651, 0x0a},
{0x3656, 0x02},
{0x3659, 0x04},
{0x365a, 0xda},
{0x365b, 0xa2},
{0x365c, 0x04},
{0x365d, 0x1d},
{0x365e, 0x1a},
{0x3662, 0xd7},
{0x3667, 0x78},
{0x3669, 0x0a},
{0x366a, 0x92},
{0x3700, 0x54},
{0x3702, 0x10},
{0x3706, 0x42},
{0x3709, 0x30},
{0x370b, 0xc2},
{0x3714, 0x63},
{0x3715, 0x01},
{0x3716, 0x00},
{0x371a, 0x3e},
{0x3732, 0x0e},
{0x3733, 0x10},
{0x375f, 0x0e},
{0x3768, 0x30},
{0x3769, 0x44},
{0x376a, 0x22},
{0x377b, 0x20},
{0x377c, 0x00},
{0x377d, 0x0c},
{0x3798, 0x00},
{0x37a1, 0x55},
{0x37a8, 0x6d},
{0x37c2, 0x04},
{0x37c5, 0x00},
{0x37c8, 0x00},
{0x3800, 0x00},
{0x3801, 0x00},
{0x3802, 0x00},
{0x3803, 0x04},
{0x3804, 0x07},
{0x3805, 0x8f},
{0x3806, 0x04},
{0x3807, 0x43},
{0x3808, 0x07},
{0x3809, 0x80},
{0x380a, 0x04},
{0x380b, 0x38},
{0x380c, 0x04},
{0x380d, 0x38},
{0x380e, 0x04},
{0x380f, 0x58},
{0x3810, 0x00},
{0x3811, 0x08},
{0x3812, 0x00},
{0x3813, 0x04},
{0x3814, 0x01},
{0x3815, 0x01},
{0x3820, 0x80},
{0x3821, 0x46},
{0x3822, 0x84},
{0x3829, 0x00},
{0x382a, 0x01},
{0x382b, 0x01},
{0x3830, 0x04},
{0x3836, 0x01},
{0x3837, 0x08},
{0x3839, 0x01},
{0x383a, 0x00},
{0x383b, 0x08},
{0x383c, 0x00},
{0x3f0b, 0x00},
{0x4001, 0x20},
{0x4009, 0x07},
{0x4003, 0x10},
{0x4010, 0xe0},
{0x4016, 0x00},
{0x4017, 0x10},
{0x4044, 0x00},
{0x4304, 0x08},
{0x4307, 0x30},
{0x4320, 0x80},
{0x4322, 0x00},
{0x4323, 0x00},
{0x4324, 0x00},
{0x4325, 0x00},
{0x4326, 0x00},
{0x4327, 0x00},
{0x4328, 0x00},
{0x4329, 0x00},
{0x432c, 0x03},
{0x432d, 0x81},
{0x4501, 0x84},
{0x4502, 0x40},
{0x4503, 0x18},
{0x4504, 0x04},
{0x4508, 0x02},
{0x4601, 0x10},
{0x4800, 0x00},
{0x4816, 0x52},
{0x4837, 0x16},
{0x5000, 0x7f},
{0x5001, 0x00},
{0x5005, 0x38},
{0x501e, 0x0d},
{0x5040, 0xc0},
{0x5901, 0x00},
{0x3d8c, 0x71},
{0x3d8d, 0xe7},
{0x5000, 0xF3},
{0x3503, 0x88},
{0x0100, 0x01},
};
struct mode_def ov0210_modes[] = {
   {
      .regs          = ov0210_mode0,
      .num_regs      = NUM_ELEMENTS(ov0210_mode0),
      .width         = 1920,
      .height        = 1080,
      .encoding      = 0,
      .order         = BAYER_ORDER_BGGR,
      .native_bit_depth = 10,
      .image_id      = 0x2B,
      .data_lanes    = 2,
      .min_vts       = 1104,
      .line_time_ns  = 30375,
    //   .line_time_ns  = 15187,
   
      .timing        = {0, 0, 0, 0, 0},
      .term          = {0, 0},
      .black_level   = 16,
   },
    {
      .regs          = ov0210_mode1,
      .num_regs      = NUM_ELEMENTS(ov0210_mode1),
      .width         = 1920,
      .height        = 1080,
      .encoding      = 0,
      .order         = BAYER_ORDER_BGGR,
      .native_bit_depth = 10,
      .image_id      = 0x2B,
      .data_lanes    = 2,
      .min_vts       = 1104,
     // .line_time_ns  = 30375,
    //   .line_time_ns  = 15187,
   
      .timing        = {0, 0, 0, 0, 0},
      .term          = {0, 0},
      .black_level   = 16,
   },
    {
      .regs          = ov0210_mode2,
      .num_regs      = NUM_ELEMENTS(ov0210_mode2),
      .width         = 1920,
      .height        = 1080,
      .encoding      = 0,
      .order         = BAYER_ORDER_BGGR,
      .native_bit_depth = 10,
      .image_id      = 0x2B,
      .data_lanes    = 2,
      .min_vts       = 1104,
      //.line_time_ns  = 30375,
    //   .line_time_ns  = 15187,
   
      .timing        = {0, 0, 0, 0, 0},
      .term          = {0, 0},
      .black_level   = 16,
   },
   {
      .regs          = ov0210_mode3,
      .num_regs      = NUM_ELEMENTS(ov0210_mode3),
      .width         = 1920,
      .height        = 1080,
      .encoding      = 0,
      .order         = BAYER_ORDER_BGGR,
      .native_bit_depth = 10,
      .image_id      = 0x2B,
      .data_lanes    = 2,
      .min_vts       = 1104,
      //.line_time_ns  = 30375,
    //   .line_time_ns  = 15187,
   
      .timing        = {0, 0, 0, 0, 0},
      .term          = {0, 0},
      .black_level   = 16,
   },
  
};

#undef addreg

struct sensor_regs ov0210_stop[] = {
   { 0x0100, 0x00 },
};

// ID register settings taken from http://www.mail-archive.com/linux-kernel@vger.kernel.org/msg1298623.html
struct sensor_def ov0210 = {
   .name =                 "ov0210",
   .modes =               ov0210_modes,
   .num_modes =            NUM_ELEMENTS(ov0210_modes),
   .stop =                 ov0210_stop,
   .num_stop_regs =        NUM_ELEMENTS(ov0210_stop),

    // NOTICE: datasheet the address is 0x60@8bits, the pi will use 0x30@7bits,
    // But 0x30 will conflict with the UB954 device id, so we adjust it's value to 0x31@7bits


   .i2c_addr =             0x33,
   .i2c_addressing =       2,
   .i2c_ident_length =     2,
   .i2c_ident_reg =        0x300A,
   .i2c_ident_value =      0x2700,  //0x2724 byte swapped

   .vflip_reg =            0x3820,  // TODO:
   .vflip_reg_bit =        1,       // TODO:
   .hflip_reg =            0x3821,  // TODO:
   .hflip_reg_bit =        1,       // TODO:

   .exposure_reg =         0x3500,  // TODO:
   .exposure_reg_num_bits = 20,     // TODO:

   .vts_reg =              0x380e,  // TODO:
   .vts_reg_num_bits =     16,      // TODO:

   .gain_reg =             0x3508,  // TODO:
   .gain_reg_num_bits =    13,      // TODO:
};

#endif
